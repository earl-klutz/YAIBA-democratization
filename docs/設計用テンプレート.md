# YAIBA民主化プロジェクト 設計書作成タスク指示（テンプレ）

## 1. 目的
第1目標（Google Colabでの簡単解析）に必要な機能ブロックごとの設計書を作成する。  
コードは書かず、必要な項目・入出力・制約条件・成功条件を文章と図で整理する。

## 2. 担当範囲（例）
- **担当A**：可視化（静止画系）
- **担当B**：可視化（動画系）
- **担当C**：統計指標算出
- **担当D**：Colab UX & 配布フロー

# 3. 各人の役割分担案

### A.データ取り込み・前処理（I/O標準化）
- **設計担当**:げるすらいむさん
- **目的**:YAIBAのCSV/JSONログを標準化し、後工程（グラフ・動画・UI）が共通して利用できるDataFrameに変換。
- **主な成果物**：
  - 標準スキーマ定義（列名・型・タイムゾーン・欠測処理ルール）
  - 前処理スクリプト仕様（秒粒度化、外れ値除去、参加/離脱判定）
  - standard.parquet＋metadata.json 出力仕様書（standard.parquetである必要はないがおそらくそれが良さげ、他に良いものがあったら変更可）
- **実装担当**：未定

---

### B.可視化（人数推移・軌跡・統計情報）
- **設計担当**:花菜果ゆいさん
- **目的**:同時接続数の推移、ユーザー位置軌跡、基本統計（ピーク・平均・中央値・95%タイルなどか？必要なものは設計者が決定）を静止画化。
- **主な作業**：
  - 折れ線グラフ仕様（同時接続数、平滑化オプション）
  - 軌跡描画仕様（全員/特定ユーザー、色分けルールなどどの程度必要かなど要不要の判断も含める）
  - 統計指標の計算ロジック仕様書
- **実装担当**：未定

---

### C.可視化（滞在時間ヒストグラム・動画生成）
- **設計担当**:まっつさん
- **目的**：滞在時間分布と、x–z平面上の動きをアニメーション化した動画（3時間ログ→2〜3分）を生成。
- **主な作業**：
  - x滞在時間計測ロジック（在室秒数算出ルール、離席判定条件）
  - ヒストグラム仕様（ビン幅・軸・凡例）
  - 動画レンダリング仕様（FPS・解像度・トレイル長・色分け・出力形式）
- **実装担当**：未定

---

### D：可視化（ヒートマップ）
- **設計担当**:電卓さん
- **目的**：位置情報を集計し、イベント会場の混雑状況を直感的に把握できるヒートマップを生成。
- **理由**：定義の明確化と粒度変更で数値が再現性を持つ必要がある
- **主な成果物**：
  - グリッド分割仕様（解像度、スムージング方法）
  - 色マップ設定（カラースケール、上限値の扱い）
  - 出力形式（静止画PNG、必要なら動画連動）
- **実装担当**：未定

---

### E：Colab UI/UX
- **設計担当**:ひまかんさん
- **目的**：Google Colabでノーコード操作可能なUIを設計し、全ワークストリームの出力を統合。
- **主な成果物**：
  - ノートブックのセル構成設計（説明→アップロード→設定→実行→DL）
  - パラメータ入力UI（fps・粒度・対象ユーザーなど）
  - 成果物のフォルダ構造・ZIP化・DLリンク生成
- **実装担当**：未定

---

### F：ドキュメント
- **設計担当**:ぶんちんさん
- **目的**：利用マニュアル、日本語化対応、導入手順の明文化。
- **主な成果物**：
  - 「最短3ステップ」マニュアル＋詳細版
  - サンプルとスクリーンショット等
  - 必要なら既知の制限・FAQ等の案
- **実装担当**：ぶんちん＆クルツ

---


## 4. 設計書の必須構成
1. **目的と範囲**  
   - なぜこの機能が必要なのか、どこまでを対象とするか
2. **成果物**
   - どういうファイル名ファイル構成など
3. **入力仕様**  
   - 受け取るデータ形式・必須項目・型・単位・制約
4. **出力仕様**  
   - 生成するデータ・成果物・フォルダ構造
5. **処理フロー（概要）**  
   - 図または箇条書きで処理の順番を説明
6. **パラメータ一覧**  
   - ユーザーや他モジュールから受け取る設定値
7. **例外・エラー処理方針**  
   - 想定される失敗パターンとその対応
8. **性能・品質要件**  
   - 処理時間、再現性、可用性など
9. **検証方法**  
   - どうやって動作確認するか（テスト条件）

## 5. 作成ルール
- 用語・カラム名は全員で統一する（別紙に用語集あり）
- コードは書かない（擬似コード・図はOK）
- MarkdownまたはGoogleドキュメント形式で提出
- 1機能あたりA4で2〜4ページを目安

## 6. 提出とレビュー
- **提出期限**：8/24
- **レビュー会**：MM/DD（各自10分発表＋質疑）
- **最終提出先**：このWiki
